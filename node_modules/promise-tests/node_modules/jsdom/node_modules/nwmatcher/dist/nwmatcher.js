/*!
 * NWMatcher 1.2.5 - Fast CSS3 Selector Engine
 * Copyright (C) 2007-2012 Diego Perini
 * See http://nwbox.com/license
 */
(function(d,g){if(typeof module==='object'&&typeof exports==='object'){module.exports=function(b){var a={};g(b,a);return a}}else{if(!d.NW){d.NW={}}if(!d.NW.Dom){d.NW.Dom={}}g(d,d.NW.Dom)}})(this,function(y,bL){var cx='nwmatcher-1.3.0beta',l=bL,i=y.document,m=i.documentElement,K=[].slice,bM={}.toString,bm,Y,G,Z,p,bn,bo,bp,bq,L='[#.:]?',br='([~*^$|!]?={1})',v='[\\x20\\t\\n\\r\\f]*',bs='[\\x20]|[>+~][^>+~]',bt='(?:[-+]?\\d*n)?[-+]?\\d*',ba='"[^"]*"'+"|'[^']*'",bN='\\([^()]+\\)|\\(.*\\)',bO='\\{[^{}]+\\}|\\{.*\\}',bP='\\[[^[\\]]*\\]|\\[.*\\]',bb='\\[.*\\]|\\(.*\\)|\\{.*\\}',q='(?:[-\\w]|[^\\x00-\\xa0]|\\\\.)',B='(?:-?[_0-zA-Z]{1}[-\\w]*|[^\\x00-\\xa0]+|\\\\.+)+',bu='('+ba+'|'+B+')',C=v+'('+q+'+:?'+q+'+)'+v+'(?:'+br+v+bu+')?'+v,bQ=C.replace(bu,'([\\x22\\x27]*)((?:\\\\?.)*?)\\3'),M='((?:'+bt+'|'+ba+'|'+L+'|'+q+'+|\\['+C+'\\]|\\(.+\\)|'+v+'|,)+)',bR='.+',bc='(?=[\\x20\\t\\n\\r\\f]*[^>+~(){}<>])(\\*|(?:'+L+B+')|'+bs+'|\\['+C+'\\]|\\('+M+'\\)|\\{'+bR+'\\}|,)+',bS=bc.replace(M,'.*'),N=new RegExp(bc,'g'),O=new RegExp('^'+v+'|'+v+'$','g'),bT=new RegExp('^((?!:not)('+L+'|'+B+'|\\([^()]*\\))+|\\['+C+'\\])$'),bd=new RegExp('([^,\\\\\\[\\]]+|'+bP+'|'+bN+'|'+bO+'|\\\\.)+','g'),bU=new RegExp('(\\['+C+'\\]|\\('+M+'\\)|[^\\x20>+~]|\\\\.)+','g'),bv=/[\x20\t\n\r\f]+/g,bw=new RegExp(B+'|^$'),z=(function(){var g=(i.appendChild+'').replace(/appendChild/g,'');return function(b,a){var d=b&&b[a]||false;return d&&typeof d!='string'&&g==(d+'').replace(new RegExp(a,'g'),'')}})(),bV=z(i,'hasFocus'),P=z(i,'querySelector'),bW=z(i,'getElementById'),bX=z(m,'getElementsByTagName'),Q=z(m,'getElementsByClassName'),bY=z(m,'getAttribute'),bZ=z(m,'hasAttribute'),bx=(function(){var b=false,a=m.id;m.id='length';try{b=!!K.call(i.childNodes,0)[0]}catch(e){}m.id=a;return b})(),by='nextElementSibling'in m&&'previousElementSibling'in m,ca=bW?(function(){var b=true,a='x'+String(+new Date),d=i.createElementNS?'a':'<a name="'+a+'">';(d=i.createElement(d)).name=a;m.insertBefore(d,m.firstChild);b=!!i.getElementById(a);m.removeChild(d);return b})():true,bz=bX?(function(){var b=i.createElement('div');b.appendChild(i.createComment(''));return!!b.getElementsByTagName('*')[0]})():true,bA=Q?(function(){var b,a=i.createElement('div'),d='\u53f0\u5317';a.appendChild(i.createElement('span')).setAttribute('class',d+'abc '+d);a.appendChild(i.createElement('span')).setAttribute('class','x');b=!a.getElementsByClassName(d)[0];a.lastChild.className=d;return b||a.getElementsByClassName(d).length!=2})():true,cb=bY?(function(){var b=i.createElement('input');b.setAttribute('value',5);return b.defaultValue!=5})():true,bB=bZ?(function(){var b=i.createElement('option');b.setAttribute('selected','selected');return!b.hasAttribute('selected')})():true,cc=(function(){var b=i.createElement('select');b.appendChild(i.createElement('option'));return!b.firstChild.selected})(),bC,bD,w,n,bE=/opera/i.test(bM.call(y.opera)),cd=bE&&parseFloat(opera.version())>=11,ce=P?(function(){var j=[],f=i.createElement('div'),h,c=function(b,a,d,g){var k=false;a.appendChild(d);try{k=a.querySelectorAll(b).length==g}catch(e){}while(a.firstChild){a.removeChild(a.firstChild)}return k};h=i.createElement('p');h.setAttribute('class','');c('[class^=""]',f,h,1)&&j.push('[*^$]=[\\x20\\t\\n\\r\\f]*(?:""|'+"'')");h=i.createElement('option');h.setAttribute('selected','selected');c(':checked',f,h,0)&&j.push(':checked');h=i.createElement('input');h.setAttribute('type','hidden');c(':enabled',f,h,1)&&j.push(':enabled',':disabled');h=i.createElement('link');h.setAttribute('href','x');c(':link',f,h,1)||j.push(':link');if(bB){j.push('\\[[\\x20\\t\\n\\r\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)')}return j.length?new RegExp(j.join('|')):{'test':function(){return false}}})():true,cf=new RegExp('(?:\\[[\\x20\\t\\n\\r\\f]*class\\b|\\.'+B+')'),cg=new RegExp(!(bz&&bA)?!bE?'^(?:\\*|[.#]?-?[_0-zA-Z]{1}'+q+'*)$':'^(?:\\*|#-?[_0-zA-Z]{1}'+q+'*)$':'^#?-?[_0-zA-Z]{1}'+q+'*$'),ch={'a':1,'A':1,'area':1,'AREA':1,'link':1,'LINK':1},ci={'checked':1,'disabled':1,'ismap':1,'multiple':1,'readonly':1,'selected':1},R={value:'defaultValue',checked:'defaultChecked',selected:'defaultSelected'},cj={'action':2,'cite':2,'codebase':2,'data':2,'href':2,'longdesc':2,'lowsrc':2,'src':2,'usemap':2},bF={'class':0,'accept':1,'accept-charset':1,'align':1,'alink':1,'axis':1,'bgcolor':1,'charset':1,'checked':1,'clear':1,'codetype':1,'color':1,'compact':1,'declare':1,'defer':1,'dir':1,'direction':1,'disabled':1,'enctype':1,'face':1,'frame':1,'hreflang':1,'http-equiv':1,'lang':1,'language':1,'link':1,'media':1,'method':1,'multiple':1,'nohref':1,'noresize':1,'noshade':1,'nowrap':1,'readonly':1,'rel':1,'rev':1,'rules':1,'scope':1,'scrolling':1,'selected':1,'shape':1,'target':1,'text':1,'type':1,'valign':1,'valuetype':1,'vlink':1},ck={'accept':1,'accept-charset':1,'alink':1,'axis':1,'bgcolor':1,'charset':1,'codetype':1,'color':1,'enctype':1,'face':1,'hreflang':1,'http-equiv':1,'lang':1,'language':1,'link':1,'media':1,'rel':1,'rev':1,'target':1,'text':1,'type':1,'vlink':1},D={},H={'=':"n=='%m'",'^=':"n.indexOf('%m')==0",'*=':"n.indexOf('%m')>-1",'|=':"(n+'-').indexOf('%m-')==0",'~=':"(' '+n+' ').indexOf(' %m ')>-1",'$=':"n.substr(n.length-'%m'.length)=='%m'"},E={ID:new RegExp('^\\*?#('+q+'+)|'+bb),TAG:new RegExp('^('+q+'+)|'+bb),CLASS:new RegExp('^\\*?\\.('+q+'+$)|'+bb)},t={spseudos:/^\:(root|empty|(?:first|last|only)(?:-child|-of-type)|nth(?:-last)?(?:-child|-of-type)\((even|odd|(?:[+-]{0,1}\d*n)?[+-]{0,1}\d*)\))?(.*)/,dpseudos:/^\:(link|visited|target|active|focus|hover|checked|disabled|enabled|selected|lang\(([-\w]{2,})\)|not\(([^()]*|.*)\))?(.*)/,attribute:new RegExp('^\\['+bQ+'\\](.*)'),children:/^[\x20\t\n\r\f]*\>[\x20\t\n\r\f]*(.*)/,adjacent:/^[\x20\t\n\r\f]*\+[\x20\t\n\r\f]*(.*)/,relative:/^[\x20\t\n\r\f]*\~[\x20\t\n\r\f]*(.*)/,ancestor:/^[\x20\t\n\r\f]+(.*)/,universal:/^\*(.*)/,id:new RegExp('^#('+q+'+)(.*)'),tagName:new RegExp('^('+q+'+)(.*)'),className:new RegExp('^\\.('+q+'+)(.*)')},bG=function(b,a){var d=-1,g;if(!b.length&&Array.slice)return Array.slice(a);while((g=a[++d]))b[b.length]=g;return b},bH=function(b,a,d){var g=-1,k;while((k=a[++g])){if(false===d(b[b.length]=k)){break}}return b},F=function(a,d){var g,k=i;Z=a;i=a.ownerDocument||a;if(d||k!==i){m=i.documentElement;n=i.createElement('DiV').nodeName=='DiV';w=!n&&typeof i.compatMode=='string'?i.compatMode.indexOf('CSS')<0:(function(){var b=i.createElement('div').style;return b&&(b.width=1)&&b.width=='1px'})();g=i.createElement('div');g.appendChild(i.createElement('p')).setAttribute('class','xXx');g.appendChild(i.createElement('p')).setAttribute('class','xxx');bC=!n&&Q&&w&&(g.getElementsByClassName('xxx').length!=2||g.getElementsByClassName('xXx').length!=2);bD=!n&&P&&w&&(g.querySelectorAll('[class~=xxx]').length!=2||g.querySelectorAll('.xXx').length!=2);o.CACHING&&l.setCache(true,i)}},be=function(b,a){var d=-1,g=null;while((g=a[++d])){if(g.getAttribute('id')==b){break}}return g},I=!ca?function(b,a){b=b.replace(/\\/g,'');return a.getElementById&&a.getElementById(b)||be(b,a.getElementsByTagName('*'))}:function(b,a){var d=null;b=b.replace(/\\/g,'');if(n||a.nodeType!=9){return be(b,a.getElementsByTagName('*'))}if((d=a.getElementById(b))&&d.name==b&&a.getElementsByName){return be(b,a.getElementsByName(b))}return d},cl=function(b,a){F(a||(a=i));return I(b,a)},cm=function(b,a){var d=b=='*',g=a,k=[],j=g.firstChild;d||(b=b.toUpperCase());while((g=j)){if(g.tagName>'@'&&(d||g.tagName.toUpperCase()==b)){k[k.length]=g}if((j=g.firstChild||g.nextSibling))continue;while(!j&&(g=g.parentNode)&&g!==a){j=g.nextSibling}}return k},A=!bz&&bx?function(b,a){return n||a.nodeType==11?cm(b,a):K.call(a.getElementsByTagName(b),0)}:function(b,a){var d=-1,g=d,k=[],j,f=a.getElementsByTagName(b);if(b=='*'){while((j=f[++d])){if(j.nodeName>'@')k[++g]=j}}else{while((j=f[++d])){k[d]=j}}return k},cn=function(b,a){F(a||(a=i));return A(b,a)},bI=function(b,a){return S('[name="'+b.replace(/\\/g,'')+'"]',a)},co=function(b,a){var d=-1,g=d,k=[],j,f=A('*',a),h;b=' '+(w?b.toLowerCase():b).replace(/\\/g,'')+' ';while((j=f[++d])){h=n?j.getAttribute('class'):j.className;if(h&&h.length&&(' '+(w?h.toLowerCase():h).replace(bv,' ')+' ').indexOf(b)>-1){k[++g]=j}}return k},J=function(b,a){return(bA||bC||n||!a.getElementsByClassName)?co(b,a):K.call(a.getElementsByClassName(b.replace(/\\/g,'')),0)},cp=function(b,a){F(a||(a=i));return J(b,a)},bf='compareDocumentPosition'in m?function(b,a){return(b.compareDocumentPosition(a)&16)==16}:'contains'in m?function(b,a){return b!==a&&b.contains(a)}:function(b,a){while((a=a.parentNode)){if(a===b)return true}return false},bJ=!cb?function(b,a){return b.getAttribute(a)||''}:function(b,a){a=a.toLowerCase();if(R[a]){return b[R[a]]||''}return(cj[a]?b.getAttribute(a,2)||'':ci[a]?b.getAttribute(a)?a:'':((b=b.getAttributeNode(a))&&b.value)||'')},bg=!bB?function(b,a){return n?!!b.getAttribute(a):b.hasAttribute(a)}:function(b,a){a=a.toLowerCase();if(R[a]){return!!b[R[a]]}b=b.getAttributeNode(a);return!!(b&&(b.specified||b.nodeValue))},cq=function(b){b=b.firstChild;while(b){if(b.nodeType==3||b.nodeName>'@')return false;b=b.nextSibling}return true},cr=function(b){return bg(b,'href')&&ch[b.nodeName]},cs=function(b,a){var d=1,g=a?'nextSibling':'previousSibling';while((b=b[g])){if(b.nodeName>'@')++d}return d},ct=function(b,a){var d=1,g=a?'nextSibling':'previousSibling',k=b.nodeName;while((b=b[g])){if(b.nodeName==k)++d}return d},cu=function(b){for(var a in b){o[a]=!!b[a];if(a=='SIMPLENOT'){bh={};T={};bi={};U={};o['USE_QSAPI']=false;N=new RegExp(bS,'g')}else if(a=='USE_QSAPI'){o[a]=!!b[a]&&P;N=new RegExp(bc,'g')}}},r=function(b){var a;b='SYNTAX_ERR: '+b+' ';if(o.VERBOSITY){if(typeof y.DOMException!='undefined'){a=new SyntaxError(b);a.code=12}else{a=new Error(12,b)}throw a;}else{if(y.console&&y.console.log){y.console.log(b)}else{y.status+=b}}},o={CACHING:false,SHORTCUTS:false,SIMPLENOT:true,USE_HTML5:false,USE_QSAPI:P,VERBOSITY:true},bj='r[r.length]=c[k];if(f&&false===f(c[k]))break;else continue main;',V=function(b,a,d){var g=typeof b=='string'?b.match(bd):b;typeof a=='string'||(a='');if(g.length==1){a+=bK(g[0],d?bj:'f&&f(k);return true;',d)}else{var k=-1,j={},f;while((f=g[++k])){f=f.replace(O,'');if(!j[f]&&(j[f]=true)){a+=bK(f,d?bj:'f&&f(k);return true;',d)}}}if(d){return new Function('c,s,r,d,h,g,f,v','var N,n,x=0,k=-1,e;main:while((e=c[++k])){'+a+'}return r;')}else{return new Function('e,s,r,d,h,g,f,v','var N,n,x=0,k=e;'+a+'return false;')}},W='var z=v[@]||(v[@]=[]),l=z.length-1;while(l>=0&&z[l]!==e)--l;if(l!==-1){break;}z[z.length]=e;',bK=function(b,a,d){var g,k,j,f=0,h,c,x,X,s,u;while(b){f++;if((c=b.match(t.universal))){h=''}else if((c=b.match(t.id))){a='if('+(n?'s.getAttribute(e,"id")':'(e.submit?s.getAttribute(e,"id"):e.id)')+'=="'+c[1]+'"){'+a+'}'}else if((c=b.match(t.tagName))){a='if(e.nodeName'+(n?'=="'+c[1]+'"':'.toUpperCase()=="'+c[1].toUpperCase()+'"')+'){'+a+'}'}else if((c=b.match(t.className))){a='if((n='+(n?'s.getAttribute(e,"class")':'e.className')+')&&n.length&&(" "+'+(w?'n.toLowerCase()':'n')+'.replace('+bv+'," ")+" ").indexOf(" '+(w?c[1].toLowerCase():c[1])+' ")>-1){'+a+'}'}else if((c=b.match(t.attribute))){h=c[1].split(':');h=h.length==2?h[1]:h[0]+'';if(c[2]&&!H[c[2]]){r('Unsupported operator in attribute selectors "'+b+'"');return''}s=false;u='false';if(c[2]&&c[4]&&(u=H[c[2]])){bF['class']=w?1:0;c[4]=c[4].replace(/\\([0-9a-f]{2,2})/,'\\x$1');s=(n?ck:bF)[h.toLowerCase()];u=u.replace(/\%m/g,s?c[4].toLowerCase():c[4])}else if(c[2]=='!='||c[2]=='='){u='n'+c[2]+'="'+c[4]+'"'}h='n=s.'+(c[2]?'get':'has')+'Attribute(e,"'+c[1]+'")'+(s?'.toLowerCase();':';');a=h+'if('+(c[2]?u:'n')+'){'+a+'}'}else if((c=b.match(t.adjacent))){a=(d?'':W.replace(/@/g,f))+a;a=by?'var N'+f+'=e;while(e&&(e=e.previousElementSibling)){'+a+'break;}e=N'+f+';':'var N'+f+'=e;while(e&&(e=e.previousSibling)){if(e.nodeName>"@"){'+a+'break;}}e=N'+f+';'}else if((c=b.match(t.relative))){a=(d?'':W.replace(/@/g,f))+a;a=by?('var N'+f+'=e;e=e.parentNode.firstElementChild;while(e&&e!==N'+f+'){'+a+'e=e.nextElementSibling}e=N'+f+';'):('var N'+f+'=e;e=e.parentNode.firstChild;while(e&&e!==N'+f+'){if(e.nodeName>"@"){'+a+'}e=e.nextSibling}e=N'+f+';');}else if((c=b.match(t.children))){a=(d?'':W.replace(/@/g,f))+a;a='var N'+f+'=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){'+a+'break}e=N'+f+';';}else if((c=b.match(t.ancestor))){a=(d?'':W.replace(/@/g,f))+a;a='var N'+f+'=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){'+a+'}e=N'+f+';';}else if((c=b.match(t.spseudos))&&c[1]){switch(c[1]){case'root':if(c[3]){a='if(e===h||s.contains(h,e)){'+a+'}';}else{a='if(e===h){'+a+'}';}break;case'empty':a='if(s.isEmpty(e)){'+a+'}';break;default:if(c[1]&&c[2]){if(c[2]=='n'){a='if(e!==h){'+a+'}';break;}else if(c[2]=='even'){g=2;k=0;}else if(c[2]=='odd'){g=2;k=1;}else{k=((j=c[2].match(/(-?\d+)$/))?parseInt(j[1],10):0);g=((j=c[2].match(/(-?\d*)n/))?parseInt(j[1],10):0);if(j&&j[1]=='-')g=-1;}s=g>1?(/last/.test(c[1]))?'(n-('+k+'))%'+g+'==0':'n>='+k+'&&(n-('+k+'))%'+g+'==0':g<-1?(/last/.test(c[1]))?'(n-('+k+'))%'+g+'==0':'n<='+k+'&&(n-('+k+'))%'+g+'==0':g===0?'n=='+k:(/last/.test(c[1]))?g==-1?'n>='+k:'n<='+k:g==-1?'n<='+k:'n>='+k;a='if(e!==h){n=s['+(/-of-type/.test(c[1])?'"nthOfType"':'"nthElement"')+'](e,'+(/last/.test(c[1])?'true':'false')+');if('+s+'){'+a+'}}';}else{g=/first/.test(c[1])?'previous':'next';j=/only/.test(c[1])?'previous':'next';k=/first|last/.test(c[1]);u=/of-type/.test(c[1])?'&&n.nodeName!=e.nodeName':'&&n.nodeName<"@"';a='if(e!==h){'+('n=e;while((n=n.'+g+'Sibling)'+u+');if(!n){'+(k?a:'n=e;while((n=n.'+j+'Sibling)'+u+');if(!n){'+a+'}')+'}')+'}';}break;}}else if((c=b.match(t.dpseudos))&&c[1]){switch(c[1].match(/^\w+/)[0]){case'not':h=c[3].replace(O,'');if(o.SIMPLENOT&&!bT.test(h)){r('Negation pseudo-class only accepts simple selectors "'+b+'"');return'';}else{if('compatMode'in i){a='if(!'+V([h],'',false)+'(e,s,r,d,h,g)){'+a+'}';}else{a='if(!s.match(e, "'+h.replace(/\x22/g,'\\"')+'",g)){'+a+'}';}}break;case'checked':s='if((typeof e.form!="undefined"&&(/^(?:radio|checkbox)$/i).test(e.type)&&e.checked)';a=(o.USE_HTML5?s+'||(/^option$/i.test(e.nodeName)&&e.selected)':s)+'){'+a+'}';break;case'disabled':a='if(((typeof e.form!="undefined"&&!(/^hidden$/i).test(e.type))||s.isLink(e))&&e.disabled){'+a+'}';break;case'enabled':a='if(((typeof e.form!="undefined"&&!(/^hidden$/i).test(e.type))||s.isLink(e))&&!e.disabled){'+a+'}';break;case'lang':s='';if(c[2])s=c[2].substr(0,2)+'-';a='do{(n=e.lang||"").toLowerCase();if((n==""&&h.lang=="'+c[2].toLowerCase()+'")||(n&&(n=="'+c[2].toLowerCase()+'"||n.substr(0,3)=="'+s.toLowerCase()+'"))){'+a+'break;}}while((e=e.parentNode)&&e!==g);';break;case'target':j=i.location?i.location.hash:'';if(j){a='if(e.id=="'+j.slice(1)+'"){'+a+'}';}break;case'link':a='if(s.isLink(e)&&!e.visited){'+a+'}';break;case'visited':a='if(s.isLink(e)&&e.visited){'+a+'}';break;case'active':if(n)break;a='if(e===d.activeElement){'+a+'}';break;case'hover':if(n)break;a='if(e===d.hoverElement){'+a+'}';break;case'focus':if(n)break;a=bV?'if(e===d.activeElement&&d.hasFocus()&&(e.type||e.href)){'+a+'}':'if(e===d.activeElement&&(e.type||e.href)){'+a+'}';break;case'selected':h=cc?'||(n=e.parentNode)&&n.options[n.selectedIndex]===e':'';a='if(/^option$/i.test(e.nodeName)&&(e.selected'+h+')){'+a+'}';break;default:break;}}else{h=false;X=false;for(h in D){if((c=b.match(D[h].Expression))&&c[1]){x=D[h].Callback(c,a);a=x.source;X=x.status;if(X){break;}}}if(!X){r('Unknown pseudo-class selector "'+b+'"');return'';}if(!h){r('Unknown token in selector "'+b+'"');return'';}}if(!c){r('Invalid syntax in selector "'+b+'"');return'';}b=c&&c[c.length-1];}return a;},bk=function(b,a,d,g){var k;if(!(b&&b.nodeName>'@')){r('Invalid element argument');return false;}else if(!a||typeof a!='string'){r('Invalid selector argument');return false;}else if(d&&d.nodeType==1&&!bf(d,b)){return false;}else if(Z!==d){F(d||(d=b.ownerDocument));}a=a.replace(O,'');o.SHORTCUTS&&(a=NW.Dom.shortcuts(a,b,d));if(bn!=a){if((k=a.match(N))&&k[0]==a){bm=(k=a.match(bd)).length<2;bn=a;bp=k;}else{r('The string "'+a+'", is not a valid CSS selector');return false;}}else k=bp;if(!T[a]||bh[a]!==d){T[a]=V(bm?[a]:k,'',false);bh[a]=d;}return T[a](b,bl,[],i,m,d,g,{});},cv=function(b,a){return S(b,a,function(){return false;})[0]||null;},S=function(b,a,d){var g,k,j,f,h,c,x=b;if(arguments.length===0){r('Missing required selector parameters');return[];}else if(b===''){r('Empty selector string');return[];}else if(typeof b!='string'){return[];}else if(a&&!(/1|9|11/).test(a.nodeType)){r('Invalid context element');return[];}else if(Z!==a){F(a||(a=i));}if(o.CACHING&&(f=l.loadResults(x,a,i,m))){return d?bH([],f,d):f;}if(!cd&&cg.test(b)){switch(b.charAt(0)){case'#':if((j=I(b.slice(1),a))){f=[j];}else f=[];break;case'.':f=J(b.slice(1),a);break;default:f=A(b,a);break;}}else if(!n&&o.USE_QSAPI&&!(bD&&cf.test(b))&&!ce.test(b)){try{f=a.querySelectorAll(b);}catch(e){}}if(f){f=d?bH([],f,d):bx?K.call(f):bG([],f);o.CACHING&&l.saveResults(x,a,i,f);return f;}b=b.replace(O,'');o.SHORTCUTS&&(b=NW.Dom.shortcuts(b,a));if((k=bo!=b)){if((h=b.match(N))&&h[0]==b){Y=(h=b.match(bd)).length<2;bo=b;bq=h;}else{r('The string "'+b+'", is not a valid CSS selector');return[];}}else h=bq;if(a.nodeType==11){f=a.childNodes;}else if(!n&&Y){if(k){h=b.match(bU);c=h[h.length-1];G=c.split(':not')[0];p=b.length-c.length;}if((h=G.match(E.ID))&&(c=h[1])){if((j=I(c,a))){if(bk(j,b)){d&&d(j);f=[j];}else f=[];}}else if((h=b.match(E.ID))&&(c=h[1])){if((j=I(c,i))){if('#'+c==b){d&&d(j);f=[j];}if(/[>+~]/.test(b)){a=j.parentNode;}else{b=b.replace('#'+c,'*');p-=c.length+1;a=j;}}else f=[];}if(f){o.CACHING&&l.saveResults(x,a,i,f);return f;}if(!Q&&(h=G.match(E.TAG))&&(c=h[1])){if((f=A(c,a)).length===0){return[];}b=b.slice(0,p)+b.slice(p).replace(c,'*');}else if((h=G.match(E.CLASS))&&(c=h[1])){if((f=J(c,a)).length===0){return[];}if(bw.test(b.charAt(b.indexOf(c)-1))){b=b.slice(0,p)+b.slice(p).replace('.'+c,'');}else{b=b.slice(0,p)+b.slice(p).replace('.'+c,'*');}}else if((h=b.match(E.CLASS))&&(c=h[1])){if((f=J(c,a)).length===0){return[];}for(g=0,els=[];f.length>g;++g){els=bG(els,f[g].getElementsByTagName('*'));}f=els;if(bw.test(b.charAt(b.indexOf(c)-1))){b=b.slice(0,p)+b.slice(p).replace('.'+c,'');}else{b=b.slice(0,p)+b.slice(p).replace('.'+c,'*');}}else if(Q&&(h=G.match(E.TAG))&&(c=h[1])){if((f=A(c,a)).length===0){return[];}b=b.slice(0,p)+b.slice(p).replace(c,'*');}}if(!f){f=/^(?:applet|object)$/i.test(a.nodeName)?a.childNodes:A('*',a);}if(!U[b]||bi[b]!==a){U[b]=V(Y?[b]:h,'',true);bi[b]=a}f=U[b](f,bl,[],i,m,a,d,{});o.CACHING&&l.saveResults(x,a,i,f);return f},bh={},T={},bi={},U={},bl={nthElement:cs,nthOfType:ct,getAttribute:bJ,hasAttribute:bg,byClass:J,byName:bI,byTag:A,byId:I,contains:bf,isEmpty:cq,isLink:cr,select:S,match:bk},cw={prefixes:L,encoding:q,operators:br,whitespace:v,identifier:B,attributes:C,combinators:bs,pseudoclass:M,pseudoparms:bt,quotedvalue:ba};l.ACCEPT_NODE=bj;l.emit=r;l.byId=cl;l.byTag=cn;l.byName=bI;l.byClass=cp;l.getAttribute=bJ;l.hasAttribute=bg;l.match=bk;l.first=cv;l.select=S;l.compile=V;l.contains=bf;l.configure=cu;l.setCache=function(){return};l.loadResults=function(){return};l.saveResults=function(){return};l.shortcuts=function(b){return b};l.Config=o;l.Snapshot=bl;l.Operators=H;l.Selectors=D;l.Tokens=cw;l.registerOperator=function(b,a){H[b]||(H[b]=a)};l.registerSelector=function(b,a,d){D[b]||(D[b]={Expression:a,Callback:d})};F(i,true)});
