<!doctype html>
<html>
	<head>
		<title>Emily - real time applications made easy</title>
		<style type="text/css">
			html {
				font-family: "verdana";
			}
			body {
			 width: 1000px;
			 margin-left: auto;
			 margin-right: auto;
			 background-color: #fafafa;
			 color: #333;
			}
			h1, h2, h3 {
				margin: 0;
				padding: 2px;
				padding-left: 10px;
				color: #78aadd;
				text-shadow: -1px -1px -1px #333;
				box-shadow: 1px 1px 1px #333;
			}
			header h1 {
				font-size: 48px;
				margin-bottom: 5px;
				text-shadow: 1px 1px 1px #333;
				box-shadow: none;
			}
			header span {
				font-weight: bold;
			}
			nav a,footer a {
				color: #78aadd;
				text-decoration: none;
			}
			nav a:hover, footer a:hover {
				text-decoration:underline;
			}
			header, section, nav, footer {
				padding: 10px 0px 10px 0px;
				border-bottom: 1px solid white;
				box-shadow: 0px 2px 5px #aaa;
				margin: 5px 0 0 0;
				padding: 10px;
				border-radius: 3px;
				background-color: white;
				font-size: 12px;
			}
			nav {
			 font-size: 24px;
			}
			header a {
				background-color: #78aadd;
				color: white;
				border-radius: 10px;
				display: block;
				padding: 10px;
				float: right;
				text-shadow: -1px -1px 1px black;
				text-decoration: none;
				box-shadow: 1px 1px 1px black;
			}
			header a:hover {
				box-shadow: 0 0 0;
			}
			 p {
				margin-left: 20px;
			} 
			 h2 {
				background-color: #78aadd;
				border-radius: 3px;
				color: white;
				font-size: 16px;
			}
			 h3 {
				background-color: #333;
				border-radius: 2px;
				color: white;
				font-weight: normal;
				font-size: 12px;
				margin-left: 20px;	
			}
			.example pre {
				border: 0px;
				margin-left: 20px;
			}
		</style>
		<link href="prettify.css" type="text/css" rel="stylesheet" />
		<script type="text/javascript" src="prettify.js"></script>
		<script>
			window.addEventListener("load", function () {
				prettyPrint();
			}, true);
		</script>
	</head>
	<body>
	<a href="http://github.com/flams/emily">
		<img alt="Fork me on GitHub" src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" style="position: absolute; top: 0; right: 0; border: 0;">
	</a>
		<header>
			<a href="./Emily.js">Download Emily Alpha</a>
			<h1>Emily</h1>
			<span>Real time web applications made easy</span>
		</header>
			
		<nav>
			<a href="#presentation">What is Emily?</a> | <a href="#install">Installation</a> | <a href="#examples">Examples</a>
		</nav>
			
		<section id="presentation">
			<h2>What is Emily?</h2>
			<p>
				Emily is a JavaScript Framework that offers convenient tools for building MVC applications. </br>
				It's nothing else than a set of modules in AMD format. <br />
				All Emily's modules work both in the browser and in node.js
			</p>
			<p>
			 The tools are:
			</p>
			<ul>
				<li><strong>Observable</strong>: the all mighty observer design pattern.</li>
				<li><strong>Store</strong>: the spine of your MV* application.</li>
				<li><strong>Promise</strong>: a simple promises interpretation.</li>
				<li><strong>StateMachine</strong>: don't hide your states and transitions behind if/else anymore.</li>
				<li><strong>Transport</strong>: the excellent socket.io used as the only way to communicate with your server.</li>
				<li><strong>CouchDBStore</strong>: combines Store+Transport to serve a CouchDB in real-time.</li>
				<li><strong>Tools</strong>: these functions you always need and rewrite.</li>
			</ul>
		</section>
		
		<section id="install">
		
			<h2>Installing Emily</h2>
			<p>
				Emily requires an AMD compatible launcher like requirejs to work.
			</p>
			<h3>In a browser</h3>
			<pre>
	&lt;script src="./require.js"&gt;&lt;/script&gt;
	&lt;script src="./Emily.js"&gt;&lt;/script&gt;
			</pre>
			<pre class="prettyprint">
	require(["Module"], function (Module) {
		// Do what you want with Module
	});
			</pre>
			
			<h3>In node</h3>
			<pre class="prettyprint">
	var requirejs = require("requirejs");
	require("./Emily.js");
		
		
	requirejs.config({
		baseUrl: "./",
		nodeRequire: require
	});
	
	requirejs(["Module"], function (Module) {
		// Do what you want with Module
	});
			</pre>
		</section>
		
		<section id="examples">
			<div class="example">
				<h2>Observable: the all mighty observer design pattern.</h2>
				<p>The well known Observer design pattern.<br/>
					It's especially useful in MV* applications to advertise views on data changes.</p>
				<h3>Watch a topic</h3>
				<pre class="prettyprint">
 var observable = new Observable;
 
 observable.watch("greetings", function (greet) {
  console.log(greet, "world!");
 });
 
 // Execute callback in scope
 observable.watch("greetings", function (greet) {
  console.log(greet, "world!");
 }, 
 // The scope. In Emily the scope can be given right after the callback. 
 // Works everytime in the whole API. It's a requirement.
 this);
</pre>
				<h3>Notify on a topic</h3>
				<pre class="prettyprint">
 observable.notify("greetings", "hello");
				</pre>
				
				<h3>Stop watching</h3>
				<pre class="prettyprint">
var handler = observable.watch("topic", function(){});
 observable.unwatch(hander);
 
 // Unwatch all from a topic
 observable.unwatchAll("topic");
 
 // Unwatch all
 observable.unwatchAll();
				</pre>
			</div>
</section>

<section>
			<div class="example">
				<h2>Store: the spine of your MV* application.</h2>
				<p>
					Store is your applications' model. It's values can be observed.<br />
					It can store data in an Array or in an Object.
				</p>
				<h3>Set, Get, del value</h3>
				<pre class="prettyprint">
var store = new Store;

store.set("greeting", "Hello World!");
store.get("greeting"); // returns Hello world!
store.del("greeting");
store.has("greeting"); // false
				</pre>
				
				<h3>Watch a value's modification</h3>
				<pre class="prettyprint">
store.watchValue("greeting", function (value) {
	console.log("Hello", value);
}, /* after the callback comes the scope */scope);

// Will also call the callback.
store.set("greeting", "world!"); 
				</pre>
				
				<h3>Array-based Store manipulation</h3>
				<pre class="prettyprint">
var store = new Store(["Hello"]);
store.alter("push", "world!");
store.get(1); // world!
store.alter("pop"); // world!
store.get(1); // undefined;
				</pre>
				
				<h3>Observing an Array-based Store</h3>
				<pre class="prettyprint">
var store = new Store(["Hello"]);

// Watch for new values, works with deleted, updated as well
store.watch("added", function (idx, value) {
 console.log(idx, value);
}, /* after the callback comes the scope */scope);

store.alter("push", "world!"); // Will console.log(1, "world!"),
				</pre>
				
				<h3>Looping through a Store</h3>
				<pre class="prettyprint">
var store = new Store(["Hello", "world!"]);

// will loop through all items. The params are in the same order as
// a foreach
store.loop(function (value, idx) {
	console.log(value, idx); // 
}, /* after the callback... */ scope);
				</pre>
				
				<h3>Misc</h3>
				<pre class="prettyprint">
var store = new Store(["Hello", "world!"]);

store.getNbItems(); // 2
store.toJSON(); // ["Hello","world!"]
store.reset({}); // is now an empty object


				</pre>
				
			</div>
</section>

<section>
		<div class="example">
				<h2>Promise: a simple promises interpretation.</h2>
				<pre class="prettyprint">
	require(["Promise"], function (Promise) {
	
		var promise = new Promise;
		
		promise.then(function () {
			console.log("Hello World!");
		});
		
		promise.resolve();
	});
				</pre>
			</div>
</section>

<section>
		<div class="example">
				<h2>Finite State Machine: don't hide your states and transitions behind if/else anymore.</h2>
				<pre class="prettyprint">
	require(["StateMachine"], function (StateMachine) {
	
		var stateMachine = new StateMachine("Init", {
			"Init": [["hello", function (greeting) {
						console.log("Hello", greeting);
					}, "Greetd"]],
			"Greetd": []
		});
		
		stateMachine.event("world!");
	});
				</pre>
			</div>
</section>

<section>
		<div class="example">
				<h2>CouchDBStore: the excellent socket.io used as the only way to communicate with your server.</h2>
				<pre class="prettyprint">
	require(["CouchDBStore"], function (CouchDBStore) {
	
		
	});
				</pre>
			</div>
</section>

<section>
		<div class="example">
				<h2>Transport: combines Store+Transport to serve a CouchDB in real-time.</h2>
				<pre class="prettyprint">
	require(["Transport"], function (Transport) {
		
		
	});
				</pre>
			</div>
			
		</section>
		<section>
		<div class="example">
				<h2>Tools: these functions you always need and rewrite.</h2>
				<pre class="prettyprint">

				</pre>
			</div>
			
		</section>
		
		<footer>
			<a href="https://github.com/flams/emily">Emily</a> by <a href="https://github.com/podefr">Olivier Scherrer</a>. Copyright 2012 - MIT licensed
		</footer>
	</body>

</html>